# Надежда на чистый код
Общий репозиторий для разработчиков компании CustomEng.
## Оглавление
0. [Цель](#Цель)
1. [Общие рекомендации](#Общие-рекомендации)
    1. [Версионность](#Версионность)


## Цель
Создание единообразной и чистой кодовой базы компании. Пририотеты: чистота архитектуры, чистота кода, простота обновляемости, низкий порог входа в разработку, шаблонизация типовых решений.

## Общие рекомендации
### Версионность
#### Версионность в модулях STM32
Версионность в модулях на STM32 реализуется через структуру moduleData. Параметр - version. Зашивайте версию прошивки в функции systemInit(). Пример:
```c
void systemInit()
{
    ...
    ...
    moduleData.version = 100.
}
```
Версия указывается в формате XXX. X1 - мажорная версия, X2 - подверсия, X3 - версия патчей. Пример: 271 = 2.7.1

#### Версионность в EDS-file
Версионность в EDS-файлах указывается в параметре FileVersion. Единственный поддерживаемый формат: XXX. Пример: 271 = 2.7.1
```c
FileVersion=200
```
Прим.: для EDS-файлов старых прошивок формат 1XX. Новые прошивки после рефакторинга начинаются с 2XX для избежания конфликтов.
